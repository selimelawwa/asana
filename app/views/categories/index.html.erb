<div class = "row">
  <div class = "col-sm-9">
    <div class="col-sm-12 d-flex align-items-center justify-content-between">
      <h1> All Categories </h1>
      <h5> <%= link_to 'Add a new category', new_category_path %> </h5>
    </div>
    <div class ="offset-sm-1 col-sm-10 categories-container">
      <% if @categories.any? %>
        <ul class="list-group">
          <% @categories.each do |c|%>
            <li class="list-group-item">
                <a data-toggle="collapse" href=<%= "#collapse#{c.id}"%>>
                  <%= c.name %>
                </a>
            </li>
            <div id= <%= "collapse#{c.id}"%> class="panel-collapse collapse">
              <ul class="list-group">
                <% c.sub_categories.each do |s| %>
                  <li class="list-group-item"> <%= s.name %> </li>
                <% end %>
                <li class="list-group-item">
                  <%= simple_form_for c.sub_categories.new, url: categories_path  do |f|%>
                    <div class="form-row align-items-center">
                      <div class= "col-auto">
                        <%= f.label "New #{c.name} Sub Category Name", :name %>
                        <%= f.text_field :name, class: 'form-control'  %>
                        <button class="btn btn-primary btn-large align-right" type="submit" name="action">Submit
                          <i class="material-icons right">send</i>
                        </button>
                      </div>
                    </div>
                    <%= f.input :kind, as: :hidden, input_html: { value: 'sub_category' }%>
                    <%= f.input :parent_id, as: :hidden, input_html: { value: c.id }%>
                  <% end %>
                </li>
              </ul>
            </div>
          <% end %>
        </ul>  
      <% end %>
    </div>
  </div>
  <div class= "col-sm-3">
    <%= render partial: 'shared/admin_sidebar' , locals: {current: 'categories'}%>
  </div>
</div>
<br><br>