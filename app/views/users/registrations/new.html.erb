<div class = "container">
  <div class = "row">
    <div class= "col s12 m9">
      <h2>Sign Up</h2>

      <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
        <%= devise_error_messages! %>

        <div class="field">
          <%= f.label :name %>
          <%= f.text_field :name, placeholder: "please enter your name", id: "name" %>
        </div>

        <div class="field">
          <%= f.label :email %>
          <%= f.email_field :email, autofocus: true, placeholder: "please enter your email", id: "email" %>
        </div>

        <div class="field">
          <%= f.label :password %>
          <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %> characters minimum)</em>
          <% end %>
          <%= f.password_field :password, placeholder: "new-password", id: "password"%>
        </div>

        <div class="field">
          <%= f.label :password_confirmation %>
          <%= f.password_field :password_confirmation, placeholder: "password confirmation", id: "password_confirmation" %>
        </div>

        <div class="field">
          <%= f.label :city %>
          <%= f.select :city, ['Alexandria','Cairo'] , {include_blank: true},value:"",class: "input-field", id: "user_city"%>
        </div>

        <div class="field">
          <%= f.label :birthday %>
          <%= f.date_field :birthday , class: "datepicker", id: "birthday"%>
        </div>

        <button class="btn waves-effect waves-light" id = "register-submit-button" type="submit" name="action">Submit
          <i class="material-icons right">send</i>
        </button>
      <% end %>
    </div>
  </div>
</div>

<script>
  $(document).ready(function(){
    $('#user_city').formSelect();
    validate();
    $('#name, #email, #password, #password_confirmation, #birthday, #user_city').change(validate).keypress(validate).keyup(validate);
  });


function validate(){
    if ($('#name').val().length   >   0   &&
        $('#email').val().length   >   0   &&
        $('#password').val().length  >   0 &&
        $('#password_confirmation').val().length  >   0 ) {
        $("#register-submit-button").removeClass("disabled");
    }
    else {
        $("#register-submit-button").addClass("disabled");
    }
}
</script>